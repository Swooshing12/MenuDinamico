/* ===== GESTIONCITAS.CSS - DISEÑO PREMIUM PARA GESTIÓN DE CITAS ===== */

/* Variables específicas para gestión de citas médicas */
:root {
  --primary: #2e7d32;
  --primary-light: #60ad5e;
  --primary-dark: #005005;
  --secondary: #00796b;
  --secondary-light: #48a999;
  --secondary-dark: #004c40;
  --accent: #42a5f5;
  --success: #43a047;
  --warning: #ffa000;
  --danger: #e53935;
  --info: #039be5;
  --light: #f1f8e9;
  --dark: #263238;
  --white: #ffffff;
  --shadow: rgba(0, 77, 64, 0.15);
  --transition-fast: 0.2s;
  --transition-medium: 0.3s;
  --transition-slow: 0.5s;
  
  /* Colores específicos para citas */
  --citas-primary: #1976d2;
  --citas-secondary: #0277bd;
  --citas-accent: #03a9f4;
  --citas-light: #e3f2fd;
  --citas-pendiente: #ffa726;
  --citas-confirmada: #66bb6a;
  --citas-completada: #26c6da;
  --citas-cancelada: #ef5350;
}

/* ===== ESTILOS BASE PARA INTEGRACIÓN CON SIDEBAR ===== */
.main-content {
  margin-left: 250px;
  transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  padding: 20px;
}

body.sidebar-collapsed .main-content {
  margin-left: 70px;
}

@media (max-width: 992px) {
  .main-content {
    margin-left: 0;
  }
}

/* ===== CARDS Y ELEMENTOS INTERACTIVOS ===== */
.card, .stat-card, .filter-container {
  border: none;
  border-radius: 12px;
  box-shadow: 0 2px 8px var(--shadow);
  transition: all var(--transition-medium) cubic-bezier(0.25, 0.8, 0.25, 1);
}

.card:hover, .stat-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 20px var(--shadow);
}

/* ===== TÍTULO DE PÁGINA CON ESTILO MÉDICO ===== */
.page-title, h2 {
  position: relative;
  font-weight: 600;
  color: var(--citas-primary);
  margin-bottom: 1.5rem;
  padding-left: 15px;
  overflow: hidden;
}

.page-title::before, h2::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 4px;
  background: linear-gradient(to bottom, var(--citas-primary), var(--citas-secondary));
  border-radius: 4px;
  animation: pulseGradientCitas 2s infinite alternate;
}

@keyframes pulseGradientCitas {
  0% { opacity: 0.7; }
  100% { opacity: 1; }
}

/* ===== TARJETAS DE ESTADÍSTICAS ESPECÍFICAS PARA CITAS ===== */
.stat-card {
  border-radius: 12px;
  transition: all var(--transition-medium) cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
  position: relative;
  background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(227,242,253,0.4));
  border: 1px solid rgba(25, 118, 210, 0.1);
}

.stat-card::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 4px;
  bottom: 0;
  left: 0;
  background: linear-gradient(to right, var(--citas-primary), var(--citas-accent));
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--transition-medium) ease-out;
}

.stat-card:hover::after {
  transform: scaleX(1);
}

.stat-card i {
  transition: transform var(--transition-medium) cubic-bezier(0.175, 0.885, 0.32, 1.275);
  font-size: 2.5rem;
}

.stat-card:hover i {
  transform: scale(1.2) rotate(5deg);
}

.stat-card .card-title, .stat-card h3 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0;
  background: linear-gradient(120deg, var(--citas-primary), var(--citas-secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ===== ESTILOS ESPECÍFICOS PARA CALENDARIO ===== */
.calendario-container {
  min-height: 600px;
  position: relative;
}

.fc {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px var(--shadow);
}

.fc-header-toolbar {
  padding: 15px 20px;
  background: linear-gradient(135deg, var(--citas-primary), var(--citas-secondary));
  color: white !important;
}

.fc-toolbar-title {
  color: white !important;
  font-weight: 600;
  font-size: 1.5rem;
}

.fc-button-primary {
  background-color: rgba(255, 255, 255, 0.2) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
  color: white !important;
  border-radius: 8px;
  transition: all var(--transition-fast) ease;
}

.fc-button-primary:hover {
  background-color: rgba(255, 255, 255, 0.3) !important;
  border-color: rgba(255, 255, 255, 0.5) !important;
  transform: translateY(-2px);
}

.fc-button-primary:not(:disabled):active {
  background-color: rgba(255, 255, 255, 0.4) !important;
  border-color: rgba(255, 255, 255, 0.6) !important;
}

/* Eventos del calendario con estados específicos */
.fc-event {
  border: none !important;
  padding: 4px 8px !important;
  border-radius: 6px !important;
  font-size: 12px !important;
  cursor: pointer !important;
  transition: all var(--transition-fast) ease !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

.fc-event:hover {
  transform: translateY(-2px) scale(1.02) !important;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2) !important;
}

.fc-event.estado-pendiente {
  background-color: var(--citas-pendiente) !important;
  color: #fff !important;
  border-left: 4px solid #ff8f00 !important;
}

.fc-event.estado-confirmada {
  background-color: var(--citas-confirmada) !important;
  color: #fff !important;
  border-left: 4px solid #2e7d32 !important;
}

.fc-event.estado-completada {
  background-color: var(--citas-completada) !important;
  color: #fff !important;
  border-left: 4px solid #0097a7 !important;
}

.fc-event.estado-cancelada {
  background-color: var(--citas-cancelada) !important;
  color: #fff !important;
  border-left: 4px solid #c62828 !important;
  opacity: 0.8;
}

.fc-daygrid-day:hover {
  background-color: rgba(25, 118, 210, 0.05) !important;
  cursor: pointer;
}

.fc-day-today {
  background-color: rgba(25, 118, 210, 0.1) !important;
}

/* ===== AGENDA DEL DÍA ===== */
.agenda-doctor {
  max-height: 400px;
  overflow-y: auto;
  padding: 10px;
}

.cita-item {
  border-left: 4px solid var(--citas-primary);
  padding: 12px 15px;
  margin-bottom: 10px;
  background: linear-gradient(135deg, #ffffff, #f8f9fa);
  border-radius: 8px;
  transition: all var(--transition-medium) ease;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.cita-item:hover {
  transform: translateX(5px) translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

.cita-item.pendiente { 
  border-left-color: var(--citas-pendiente);
  background: linear-gradient(135deg, #fff8e1, #ffffff);
}

.cita-item.confirmada { 
  border-left-color: var(--citas-confirmada);
  background: linear-gradient(135deg, #e8f5e8, #ffffff);
}

.cita-item.completada { 
  border-left-color: var(--citas-completada);
  background: linear-gradient(135deg, #e0f7fa, #ffffff);
}

.cita-item.cancelada { 
  border-left-color: var(--citas-cancelada);
  background: linear-gradient(135deg, #ffebee, #ffffff);
  opacity: 0.8;
}

.cita-item h6 {
  margin: 0 0 8px 0;
  color: var(--dark);
  font-weight: 600;
}

.cita-item p {
  margin: 0;
  font-size: 0.9rem;
  color: var(--gray-600);
}

/* ===== FILTROS AVANZADOS ===== */
.filter-container {
  background: linear-gradient(135deg, #ffffff, #f8f9fa);
  border: 1px solid rgba(25, 118, 210, 0.1);
  padding: 20px;
}

.filter-container .form-label {
  font-weight: 600;
  color: var(--citas-primary);
  margin-bottom: 8px;
}

.filter-container .form-select,
.filter-container .form-control {
  border: 1px solid rgba(25, 118, 210, 0.2);
  border-radius: 8px;
  padding: 8px 12px;
  transition: all var(--transition-medium) ease;
}

.filter-container .form-select:focus,
.filter-container .form-control:focus {
  border-color: var(--citas-primary);
  box-shadow: 0 0 0 0.25rem rgba(25, 118, 210, 0.15);
  transform: translateY(-2px);
}

/* ===== MODALES ESPECÍFICOS PARA CITAS ===== */
.modal-content {
  border: none;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

.modal-header.bg-primary {
  background: linear-gradient(135deg, var(--citas-primary), var(--citas-secondary)) !important;
  border-bottom: none;
}

.modal-header.bg-success {
  background: linear-gradient(135deg, var(--success), #388e3c) !important;
  border-bottom: none;
}

.modal-body {
  padding: 25px;
}

.modal-body .card {
  margin-bottom: 20px;
  border: 1px solid rgba(25, 118, 210, 0.1);
}

.modal-body .card-header {
  background: linear-gradient(135deg, var(--citas-light), #ffffff);
  border-bottom: 1px solid rgba(25, 118, 210, 0.1);
  font-weight: 600;
  color: var(--citas-primary);
}

/* ===== FORMULARIOS Y ELEMENTOS DE ENTRADA ===== */
.form-control, .form-select {
  border-radius: 8px;
  padding: 10px 15px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  transition: all var(--transition-medium) ease;
  font-size: 0.95rem;
}

.form-control:focus, .form-select:focus {
  border-color: var(--citas-primary);
  box-shadow: 0 0 0 0.25rem rgba(25, 118, 210, 0.15);
  transform: translateY(-2px);
}

.form-label {
  font-weight: 600;
  color: var(--dark);
  margin-bottom: 8px;
}

.form-label i {
  margin-right: 8px;
  color: var(--citas-primary);
}

/* ===== BOTONES ESPECÍFICOS PARA CITAS ===== */
.btn {
  border-radius: 8px;
  padding: 10px 20px;
  font-weight: 500;
  transition: all var(--transition-medium) cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.btn::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width var(--transition-medium), height var(--transition-medium);
  z-index: 0;
}

.btn:hover::before {
  width: 300px;
  height: 300px;
}

.btn:active {
  transform: translateY(2px);
}

.btn i {
  margin-right: 6px;
  transition: transform var(--transition-fast) ease;
}

.btn:hover i {
  transform: translateX(-2px);
}

.btn-primary {
  background: linear-gradient(135deg, var(--citas-primary), var(--citas-secondary)) !important;
  border: none !important;
  color: white !important;
}

.btn-primary:hover {
  background: linear-gradient(135deg, var(--citas-secondary), var(--citas-primary)) !important;
  box-shadow: 0 4px 12px rgba(25, 118, 210, 0.3);
  transform: translateY(-2px);
}

.btn-success {
  background: linear-gradient(135deg, var(--success), #388e3c) !important;
  border: none !important;
}

.btn-success:hover {
  background: linear-gradient(135deg, #388e3c, var(--success)) !important;
  box-shadow: 0 4px 12px rgba(67, 160, 71, 0.3);
  transform: translateY(-2px);
}

.btn-warning {
  background: linear-gradient(135deg, var(--warning), #f57c00) !important;
  border: none !important;
  color: white !important;
}

.btn-warning:hover {
  background: linear-gradient(135deg, #f57c00, var(--warning)) !important;
  box-shadow: 0 4px 12px rgba(255, 160, 0, 0.3);
  transform: translateY(-2px);
}

.btn-danger {
  background: linear-gradient(135deg, var(--danger), #c62828) !important;
  border: none !important;
}

.btn-danger:hover {
  background: linear-gradient(135deg, #c62828, var(--danger)) !important;
  box-shadow: 0 4px 12px rgba(229, 57, 53, 0.3);
  transform: translateY(-2px);
}

/* ===== ALERTAS Y NOTIFICACIONES ===== */
.alert {
  border: none;
  border-radius: 10px;
  padding: 15px 20px;
  margin-bottom: 20px;
  border-left: 4px solid;
}

.alert-success {
  background: linear-gradient(135deg, #e8f5e8, #ffffff);
  border-left-color: var(--success);
  color: #2e7d32;
}

.alert-warning {
  background: linear-gradient(135deg, #fff8e1, #ffffff);
  border-left-color: var(--warning);
  color: #f57c00;
}

.alert-danger {
  background: linear-gradient(135deg, #ffebee, #ffffff);
  border-left-color: var(--danger);
  color: #c62828;
}

.alert-info {
  background: linear-gradient(135deg, #e3f2fd, #ffffff);
  border-left-color: var(--info);
  color: #0277bd;
}

/* ===== BADGES Y ESTADOS ===== */
.badge {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 500;
  transition: all var(--transition-fast) ease;
}

.badge:hover {
  transform: scale(1.05);
}

.badge.bg-warning {
  background-color: var(--citas-pendiente) !important;
  color: white !important;
}

.badge.bg-success {
  background-color: var(--citas-confirmada) !important;
}

.badge.bg-info {
  background-color: var(--citas-completada) !important;
}

.badge.bg-danger {
  background-color: var(--citas-cancelada) !important;
}

/* ===== UTILIDADES Y ANIMACIONES ===== */
.fade-in {
  animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.slide-in-left {
  animation: slideInLeft 0.4s ease-out;
}

@keyframes slideInLeft {
  from { transform: translateX(-100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

.pulse {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

/* ===== RESPONSIVIDAD ===== */
@media (max-width: 768px) {
  .main-content {
    margin-left: 0;
    padding: 15px;
  }
  
  .stat-card {
    margin-bottom: 15px;
  }
  
  .calendario-container {
    min-height: 400px;
  }
  
  .modal-dialog {
    margin: 10px;
  }
  
  .btn {
    padding: 8px 16px;
    font-size: 0.9rem;
  }
  
  .card-body {
    padding: 15px;
  }
}

@media (max-width: 576px) {
  .fc-toolbar {
    flex-direction: column;
    gap: 10px;
  }
  
  .fc-toolbar-title {
    font-size: 1.2rem;
  }
  
  .btn-group {
    width: 100%;
  }
  
  .btn-group .btn {
    flex: 1;
  }
}

/* ===== SELECT2 PERSONALIZADO ===== */
.select2-container--default .select2-selection--single {
  border: 1px solid rgba(25, 118, 210, 0.2);
  border-radius: 8px;
  height: 42px;
  padding: 8px 12px;
}

.select2-container--default .select2-selection--single:focus {
  border-color: var(--citas-primary);
}

.select2-dropdown {
  border: 1px solid rgba(25, 118, 210, 0.2);
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* ===== SCROLLBAR PERSONALIZADO ===== */
.agenda-doctor::-webkit-scrollbar {
  width: 6px;
}

.agenda-doctor::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}

.agenda-doctor::-webkit-scrollbar-thumb {
  background: var(--citas-primary);
  border-radius: 10px;
}

.agenda-doctor::-webkit-scrollbar-thumb:hover {
  background: var(--citas-secondary);
}

/* ===== LOADING STATES ===== */
.btn.loading {
  pointer-events: none;
  opacity: 0.8;
}

.spinner-border-sm {
  width: 1rem;
  height: 1rem;
}

/* ===== TOOLTIP PERSONALIZADO ===== */
.tooltip {
  font-size: 0.875rem;
}

.tooltip-inner {
  background-color: var(--dark);
  border-radius: 6px;
  padding: 8px 12px;
}

 .fc-event {
            border: none !important;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 11px;
            cursor: pointer;
        }
        .fc-event.estado-pendiente {
            background-color: #ffc107 !important;
            color: #000 !important;
        }
        .fc-event.estado-confirmada {
            background-color: #198754 !important;
            color: #fff !important;
        }
        .fc-event.estado-completada {
            background-color: #0dcaf0 !important;
            color: #000 !important;
        }
        .fc-event.estado-cancelada {
            background-color: #dc3545 !important;
            color: #fff !important;
        }
        .calendario-container {
            min-height: 600px;
        }
        .agenda-doctor {
            max-height: 400px;
            overflow-y: auto;
        }
        .cita-item {
            border-left: 4px solid #007bff;
            padding: 8px;
            margin-bottom: 8px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .cita-item.pendiente { border-left-color: #ffc107; }
        .cita-item.confirmada { border-left-color: #198754; }
        .cita-item.completada { border-left-color: #0dcaf0; }
        .cita-item.cancelada { border-left-color: #dc3545; }

        /* Estilos para el wizard de pasos */
        .step-wizard {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        .step-wizard::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background-color: #e9ecef;
            z-index: 1;
        }
        .step-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            background-color: #fff;
            padding: 0 15px;
        }
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e9ecef;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .step-item.active .step-number {
            background-color: #007bff;
            color: white;
        }
        .step-item.completed .step-number {
            background-color: #28a745;
            color: white;
        }
        .step-title {
            font-size: 12px;
            text-align: center;
            color: #6c757d;
        }
        .step-item.active .step-title {
            color: #007bff;
            font-weight: bold;
        }
        .step-content {
            display: none;
        }
        .step-content.active {
            display: block;
        }
        .tipo-cita-card {
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
            cursor: pointer;
            height: 100%;
        }
        .tipo-cita-card:hover {
            border-color: #007bff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,123,255,0.15);
        }
        .tipo-cita-card.selected {
            border-color: #007bff;
            background-color: #f8f9ff;
        }
        .tipo-cita-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        .campos-virtuales {
            display: none;
        }
        .campos-virtuales.active {
            display: block;
        }
        .resumen-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }
        .resumen-item:last-child {
            border-bottom: none;
        }
        .resumen-label {
            font-weight: 600;
            color: #495057;
        }
        .resumen-valor {
            color: #007bff;
            text-align: right;
        }


        /* ===== ESTILOS PARA CALENDARIO DE HORARIOS ===== */
.calendario-horarios {
    min-height: 400px;
    max-height: 500px;
    overflow-y: auto;
    border: 1px solid #dee2e6;
    border-radius: 8px;
}

.semana-container {
    display: flex;
    flex-direction: column;
    background: white;
}

.dias-header {
    display: grid;
    grid-template-columns: 80px repeat(7, 1fr);
    gap: 1px;
    background-color: #e9ecef;
    padding: 0;
    font-weight: bold;
    font-size: 12px;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 10;
}

.dia-header {
    padding: 12px 4px;
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 60px;
}

.dia-header.hoy {
    background-color: #007bff;
    color: white;
    font-weight: bold;
}

.dia-numero {
    font-size: 10px;
    margin-top: 4px;
    opacity: 0.8;
}

.horarios-grid {
    display: grid;
    grid-template-columns: 80px repeat(7, 1fr);
    gap: 1px;
    background-color: #e9ecef;
}

.hora-label {
    padding: 12px 8px;
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    font-size: 11px;
    text-align: center;
    font-weight: 500;
    color: #495057;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 45px;
}

.slot-horario {
    padding: 8px 4px;
    background-color: #ffffff;
    border: 1px solid #dee2e6;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    font-size: 10px;
    min-height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    font-weight: 500;
}

.slot-horario.disponible {
    background-color: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
}

.slot-horario.disponible:hover {
    background-color: #28a745;
    color: white;
    transform: scale(1.02);
    box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
    z-index: 5;
}

.slot-horario.ocupado {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
    cursor: not-allowed;
}

.slot-horario.seleccionado {
    background-color: #007bff;
    color: white;
    font-weight: bold;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.3);
    z-index: 6;
}

.slot-horario.no-disponible {
    background-color: #f8f9fa;
    border-color: #dee2e6;
    color: #6c757d;
    cursor: not-allowed;
    opacity: 0.5;
}

.slot-horario.pasado {
    background-color: #e9ecef;
    color: #6c757d;
    cursor: not-allowed;
    opacity: 0.4;
}

.leyenda-horarios {
    display: flex;
    justify-content: center;
    gap: 20px;
    padding: 15px;
    background-color: #f8f9fa;
    border-top: 1px solid #dee2e6;
    font-size: 12px;
    flex-wrap: wrap;
}

.leyenda-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.leyenda-color {
    width: 14px;
    height: 14px;
    border-radius: 3px;
    border: 1px solid #ccc;
}

.calendario-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 300px;
    color: #6c757d;
}

.calendario-error {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 300px;
    color: #dc3545;
}

/* Responsive */
@media (max-width: 768px) {
    .dias-header {
        grid-template-columns: 60px repeat(7, 1fr);
        font-size: 10px;
    }
    
    .horarios-grid {
        grid-template-columns: 60px repeat(7, 1fr);
    }
    
    .hora-label {
        padding: 8px 4px;
        font-size: 9px;
        min-height: 35px;
    }
    
    .slot-horario {
        padding: 6px 2px;
        font-size: 8px;
        min-height: 35px;
    }
    
    .leyenda-horarios {
        gap: 10px;
        font-size: 10px;
    }
    
    .leyenda-color {
        width: 12px;
        height: 12px;
    }
}

@media (max-width: 480px) {
    .dias-header {
        grid-template-columns: 50px repeat(7, 1fr);
    }
    
    .horarios-grid {
        grid-template-columns: 50px repeat(7, 1fr);
    }
    
    .slot-horario {
        font-size: 7px;
        min-height: 30px;
    }
}

.status-indicator {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    display: inline-block;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.calendario-container {
    min-height: 600px;
    position: relative;
}

.agenda-doctor {
    max-height: 500px;
    overflow-y: auto;
}

.btn-group .btn.active {
    background-color: var(--bs-primary);
    border-color: var(--bs-primary);
    color: white;
}

/* Mejoras responsive */
@media (max-width: 768px) {
    .calendario-container {
        min-height: 400px;
    }
    
    .btn-group .btn {
        padding: 0.25rem 0.5rem;
        font-size: 0.8rem;
    }
    
    .d-flex.flex-wrap > * {
        margin-bottom: 0.5rem;
    }
}

/* Animaciones suaves */
.card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
}

.btn {
    transition: all 0.2s ease;
}

/* ===== MEJORAS ESPECÍFICAS PARA EVENTOS DEL CALENDARIO ===== */

/* Contenedor del día en el calendario */
.fc-daygrid-day-frame {
  position: relative;
  min-height: 120px !important;
}

.fc-daygrid-day-events {
  margin: 2px !important;
  min-height: 100px !important;
}

/* Mejoras para múltiples eventos en un día */
.fc-daygrid-day-event {
  margin: 1px 2px !important;
  border-radius: 4px !important;
}

/* Diseño mejorado para eventos individuales */
.fc-event {
  border: none !important;
  border-radius: 6px !important;
  font-size: 11px !important;
  font-weight: 500 !important;
  padding: 2px 6px !important;
  margin: 1px 0 !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.12) !important;
  overflow: hidden !important;
  position: relative !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

/* Efectos hover para eventos */
.fc-event:hover {
  transform: scale(1.02) !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.25) !important;
  z-index: 10 !important;
}

/* Estados específicos con mejor visibilidad */
.fc-event.estado-pendiente {
  background: linear-gradient(135deg, #fff3cd, #ffc107) !important;
  color: #856404 !important;
  border-left: 3px solid #ff8f00 !important;
}

.fc-event.estado-confirmada {
  background: linear-gradient(135deg, #d1edcc, #28a745) !important;
  color: #155724 !important;
  border-left: 3px solid #2e7d32 !important;
}

.fc-event.estado-completada {
  background: linear-gradient(135deg, #cce7f0, #17a2b8) !important;
  color: #0c5460 !important;
  border-left: 3px solid #0097a7 !important;
}

.fc-event.estado-cancelada {
  background: linear-gradient(135deg, #f8d7da, #dc3545) !important;
  color: #721c24 !important;
  border-left: 3px solid #c62828 !important;
  opacity: 0.85 !important;
  text-decoration: line-through !important;
}

/* Indicador de tipo de cita */
.fc-event.tipo-virtual::after {
  content: '💻';
  position: absolute;
  right: 2px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
}

.fc-event.tipo-presencial::after {
  content: '🏢';
  position: absolute;
  right: 2px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
}

/* Manejo de múltiples citas en un día */
.fc-daygrid-day-events {
  max-height: 100px;
  overflow: hidden;
  position: relative;
}

/* Contador de citas adicionales */
.fc-daygrid-more-link {
  background: rgba(25, 118, 210, 0.1) !important;
  color: #1976d2 !important;
  border: 1px solid rgba(25, 118, 210, 0.3) !important;
  border-radius: 4px !important;
  padding: 2px 6px !important;
  font-size: 10px !important;
  font-weight: 600 !important;
  margin: 1px 2px !important;
  text-align: center !important;
  transition: all 0.2s ease !important;
}

.fc-daygrid-more-link:hover {
  background: rgba(25, 118, 210, 0.2) !important;
  transform: scale(1.05) !important;
}

/* Mejoras para la vista semanal y diaria */
.fc-timegrid-event {
  border-radius: 6px !important;
  padding: 4px 8px !important;
  border-left: 4px solid !important;
  font-size: 12px !important;
}

/* Tooltip personalizado para eventos */
.fc-event[title] {
  position: relative;
}

/* Responsive para eventos en móviles */
@media (max-width: 768px) {
  .fc-event {
    font-size: 10px !important;
    padding: 1px 4px !important;
  }
  
  .fc-daygrid-day-frame {
    min-height: 80px !important;
  }
  
  .fc-daygrid-day-events {
    min-height: 60px !important;
  }
}

/* ===== POPOVER MEJORADO PARA MÚLTIPLES CITAS ===== */
.fc-popover {
  border: none !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15) !important;
  background: white !important;
  max-width: 300px !important;
}

.fc-popover-header {
  background: linear-gradient(135deg, #1976d2, #1565c0) !important;
  color: white !important;
  border-radius: 12px 12px 0 0 !important;
  padding: 12px 16px !important;
  font-weight: 600 !important;
}

.fc-popover-body {
  padding: 8px !important;
  max-height: 250px !important;
  overflow-y: auto !important;
}

.fc-popover .fc-event {
  margin: 4px 0 !important;
  border-radius: 6px !important;
  padding: 6px 10px !important;
  font-size: 12px !important;
}

/* ===== ESTILOS PARA INDICADORES DE PRIORIDAD ===== */
.fc-event.prioridad-alta::before {
  content: '🚨';
  position: absolute;
  left: 2px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
}

.fc-event.prioridad-media::before {
  content: '⚠️';
  position: absolute;
  left: 2px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
}

/* Animación sutil para eventos nuevos */
@keyframes newEventPulse {
  0% { 
    box-shadow: 0 0 0 0 rgba(25, 118, 210, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(25, 118, 210, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(25, 118, 210, 0);
  }
}

.fc-event.evento-nuevo {
  animation: newEventPulse 2s infinite;
}
/* ===== ESTILOS PARA MODAL DETALLE DE CITA ===== */
#modalDetalleCita .modal-content {
  border-radius: 16px;
  overflow: hidden;
}

#headerDetalleCita {
  background: linear-gradient(135deg, #1976d2, #1565c0);
  position: relative;
}

#headerDetalleCita::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23pattern)"/></svg>');
  opacity: 0.3;
}

/* Estados específicos del header */
#headerDetalleCita.estado-pendiente {
  background: linear-gradient(135deg, #ffa726, #ff8f00);
}

#headerDetalleCita.estado-confirmada {
  background: linear-gradient(135deg, #66bb6a, #4caf50);
}

#headerDetalleCita.estado-completada {
  background: linear-gradient(135deg, #26c6da, #00bcd4);
}

#headerDetalleCita.estado-cancelada {
  background: linear-gradient(135deg, #ef5350, #f44336);
}

/* Cards internos del modal */
#modalDetalleCita .card {
  transition: transform 0.2s ease;
}

#modalDetalleCita .card:hover {
  transform: translateY(-2px);
}

/* Badges dinámicos */
#badgeEstadoCita.estado-pendiente {
  background: rgba(255, 193, 7, 0.9) !important;
  color: #212529 !important;
}

#badgeEstadoCita.estado-confirmada {
  background: rgba(40, 167, 69, 0.9) !important;
  color: white !important;
}

#badgeEstadoCita.estado-completada {
  background: rgba(23, 162, 184, 0.9) !important;
  color: white !important;
}

#badgeEstadoCita.estado-cancelada {
  background: rgba(220, 53, 69, 0.9) !important;
  color: white !important;
}

/* Animación de entrada */
#modalDetalleCita.show .modal-content {
  animation: modalSlideIn 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
}

@keyframes modalSlideIn {
  from {
    transform: translateY(-50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
/* ===== ESTILOS PARA MODAL VER CITA - ESTRUCTURA FIJA ===== */

/* Contenedor principal */
#modalVerCita .modal-content {
  border-radius: 16px !important;
  overflow: hidden;
}

/* Header del paciente */
.patient-header {
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-left: 4px solid #007bff;
}

.patient-avatar {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #e3f2fd, #bbdefb);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 3px solid white;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.patient-info-item {
  display: flex;
  align-items: center;
  padding: 4px 0;
}

/* Cards de detalle */
.detail-card {
  background: white;
  border: 1px solid #e9ecef;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  transition: all 0.3s ease;
}

.detail-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.detail-card-header {
  background: linear-gradient(135deg, #f8f9fa, #ffffff);
  padding: 12px 16px;
  border-bottom: 1px solid #e9ecef;
  display: flex;
  align-items: center;
}

.detail-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 12px;
  color: white;
  font-size: 14px;
}

.detail-title {
  margin: 0;
  font-weight: 600;
  color: #495057;
  font-size: 14px;
}

.detail-card-body {
  padding: 16px;
}

.detail-row {
  margin-bottom: 12px;
}

.detail-row:last-child {
  margin-bottom: 0;
}

.detail-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 0;
  border-bottom: 1px dotted #dee2e6;
}

.detail-item:last-child {
  border-bottom: none;
}

.detail-label {
  color: #6c757d;
  font-size: 13px;
  font-weight: 500;
  flex-shrink: 0;
}

.detail-value {
  color: #212529;
  font-weight: 600;
  font-size: 13px;
  text-align: right;
  margin-left: 8px;
}

/* Contenido especial */
.motivo-content, .observaciones-content {
  background: #f8f9fa;
  padding: 12px;
  border-radius: 8px;
  border-left: 4px solid #ffc107;
  display: flex;
  align-items: flex-start;
}

.observaciones-content {
  border-left-color: #6c757d;
}

/* Estados del header */
#headerVerCita.estado-pendiente {
  background: linear-gradient(135deg, #ffc107, #ffb300);
}

#headerVerCita.estado-confirmada {
  background: linear-gradient(135deg, #28a745, #20c997);
}

#headerVerCita.estado-completada {
  background: linear-gradient(135deg, #17a2b8, #20c997);
}

#headerVerCita.estado-cancelada {
  background: linear-gradient(135deg, #dc3545, #fd7e14);
}

/* Badge de estado */
#badgeEstadoVerCita {
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  font-size: 11px !important;
}

/* Botones mejorados */
#modalVerCita .btn {
  font-weight: 500;
  transition: all 0.2s ease;
  border-width: 2px;
}

#modalVerCita .btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

/* Responsive */
@media (max-width: 768px) {
  .detail-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }
  
  .detail-value {
    text-align: left;
    margin-left: 0;
  }
  
  .patient-info-item {
    justify-content: flex-start;
  }
  
  #modalVerCita .modal-footer {
    flex-direction: column;
    gap: 12px;
  }
  
  #modalVerCita .modal-footer .d-flex:last-child {
    width: 100%;
    justify-content: center;
    flex-wrap: wrap;
  }
}

/* Loading mejorado */
#loadingVerCita {
  background: rgba(248, 249, 250, 0.95);
  backdrop-filter: blur(4px);
}

/* Animación de entrada */
#modalVerCita.show .modal-content {
  animation: modalBounceIn 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
}

@keyframes modalBounceIn {
  0% {
    transform: scale3d(0.8, 0.8, 0.8);
    opacity: 0;
  }
  50% {
    transform: scale3d(1.05, 1.05, 1.05);
    opacity: 0.8;
  }
  100% {
    transform: scale3d(1, 1, 1);
    opacity: 1;
  }
}

/* ===== OPTIMIZAR ESPACIADO EN INFORMACIÓN DEL PACIENTE ===== */

/* Reducir espaciado general del header del paciente */
.patient-header {
    padding: 20px 24px !important; /* Reducir padding */
}

/* Optimizar el grid de información del paciente */
.patient-header .row.g-3 {
    --bs-gutter-x: 0.5rem; /* Reducir espaciado entre columnas */
    --bs-gutter-y: 0.25rem;
}

.patient-header .col-md-4 {
    padding: 0 0.25rem; /* Reducir padding interno */
    flex: 0 1 auto; /* Permitir que se ajusten al contenido */
}

/* Hacer más compactos los items de información */
.patient-info-item {
    display: flex;
    align-items: center;
    padding: 2px 0; /* Reducir padding vertical */
    font-size: 12px; /* Reducir tamaño de fuente */
    line-height: 1.2;
}

.patient-info-item i {
    font-size: 14px; /* Iconos más pequeños */
    margin-right: 6px; /* Menos margen */
    width: 16px; /* Ancho fijo para alineación */
    text-align: center;
}

.patient-info-item .text-muted {
    font-size: 11px; /* Labels más pequeños */
    margin-right: 4px;
    font-weight: 500;
}

.patient-info-item .fw-semibold {
    font-size: 12px; /* Valores más pequeños */
    font-weight: 600;
}



/* Responsive: en móviles, stack verticalmente */
@media (max-width: 768px) {
    .patient-header .col-md-4 {
        flex: 1 1 100%;
        max-width: 100%;
    }
    
    .patient-info-compact {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
    }
}

/* ===== ESTILOS PARA FECHAS PASADAS ===== */
.fc-day.fecha-pasada {
    background-color: #f8f9fa !important;
    color: #6c757d !important;
    cursor: not-allowed !important;
    opacity: 0.6;
}

.fc-day.fecha-pasada:hover {
    background-color: #f8f9fa !important;
    transform: none !important;
}

/* Estilo para inputs de fecha inválidos */
.form-control.is-invalid {
    border-color: #dc3545;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath d='m5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}
/* ✅ SOLUCIÓN CSS PARA TEXTAREA EN SWEETALERT2 */
.swal-textarea-fix textarea {
    pointer-events: auto !important;
    user-select: text !important;
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    background-color: white !important;
    border: 1px solid #ced4da !important;
    outline: none !important;
    resize: vertical !important;
}

.swal-textarea-fix textarea:focus {
    border-color: #86b7fe !important;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
}

.swal-textarea-fix .form-control {
    display: block !important;
    width: 100% !important;
    padding: 0.375rem 0.75rem !important;
    font-size: 1rem !important;
    font-weight: 400 !important;
    line-height: 1.5 !important;
    color: #212529 !important;
    background-clip: padding-box !important;
    border-radius: 0.375rem !important;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out !important;
}

/* Prevenir interferencias con el modal de SweetAlert2 */
.swal2-popup {
    text-align: left !important;
}

.swal2-html-container {
    text-align: left !important;
    overflow: visible !important;
}

/* ===== BUSCADOR POR CÉDULA ===== */
.input-group .btn-outline-primary {
    border-color: var(--citas-primary);
    color: var(--citas-primary);
    transition: all 0.3s ease;
}

.input-group .btn-outline-primary:hover {
    background-color: var(--citas-primary);
    border-color: var(--citas-primary);
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(25, 118, 210, 0.3);
}

.input-group .form-control:focus {
    border-color: var(--citas-primary);
    box-shadow: 0 0 0 0.25rem rgba(25, 118, 210, 0.15);
}

/* Indicador de carga personalizado */
#indicadorCarga .bg-primary {
    background: linear-gradient(135deg, var(--citas-primary), var(--citas-secondary)) !important;
    border-radius: 12px !important;
    backdrop-filter: blur(10px);
}

/* Estilo para campo de cédula válido/inválido */
#filtroCedula.is-valid {
    border-color: #28a745;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='m2.3 6.73l.4-.4 1.4-1.4L7.7.93l.4.4L3.7 5.73z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

#filtroCedula.is-invalid {
    border-color: #dc3545;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath d='m5.8 4.6l.4.4.4-.4M6 8.2V6.6'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

/* Animación para el botón de búsqueda */
@keyframes pulseSearch {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.input-group .btn:active {
    animation: pulseSearch 0.2s ease;
}

/* Responsive para móviles */
@media (max-width: 768px) {
    .input-group {
        flex-direction: column;
    }
    
    .input-group .btn {
        border-radius: 0.375rem !important;
        margin-top: 0.5rem;
    }
    
    .input-group .input-group-text {
        border-radius: 0.375rem 0.375rem 0 0 !important;
    }
    
    .input-group .form-control {
        border-radius: 0 0 0.375rem 0.375rem !important;
    }
}